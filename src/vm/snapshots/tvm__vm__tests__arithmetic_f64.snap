---
source: src/vm/tests.rs
expression: "run!(r#\"\n        1.23 + 3.21 * 6.12 - 3.0 / 1.5\n    \"#)"
---
## Module

function "main" {
  registers: 3 (0 params)
  literals: [
    F64(1.23)
    F64(3.21)
    F64(6.12)
    F64(3.0)
    F64(1.5)
  ]
  bytecode: (10 ops) [
    lit [0], r0           // 1.23 + 3.21 * 6.12 - 3.0 / 1.5
    lit [1], r1           // 
    lit [2], r2           // 
    mul <f64> r1, r2, r1  // 
    add <f64> r0, r1, r0  // 
    lit [3], r1           // 
    lit [4], r2           // 
    div <f64> r1, r2, r1  // 
    sub <f64> r0, r1, r0  // 
    ret                   //   
  ]
}


## Output

F64(18.8752)

## Events

lit [0], r0              [_, _, _] -> [1.23i, _, _]
lit [1], r1              [1.23i, _, _] -> [1.23i, 3.21i, _]
lit [2], r2              [1.23i, 3.21i, _] -> [1.23i, 3.21i, 6.12i]
mul <f64> r1, r2, r1     [1.23i, 3.21i, 6.12i] -> [1.23i, 19.6452i, 6.12i]
add <f64> r0, r1, r0     [1.23i, 19.6452i, 6.12i] -> [20.8752i, 19.6452i, 6.12i]
lit [3], r1              [20.8752i, 19.6452i, 6.12i] -> [20.8752i, 3i, 6.12i]
lit [4], r2              [20.8752i, 3i, 6.12i] -> [20.8752i, 3i, 1.5i]
div <f64> r1, r2, r1     [20.8752i, 3i, 1.5i] -> [20.8752i, 2i, 1.5i]
sub <f64> r0, r1, r0     [20.8752i, 2i, 1.5i] -> [18.8752i, 2i, 1.5i]
ret                      [18.8752i, 2i, 1.5i]

